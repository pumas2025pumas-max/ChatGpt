<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estudio Meraki | Contacto</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Work+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="page-header">
        <div class="page-header__bar" aria-label="Datos r√°pidos de contacto">
            <p>Consultas virtuales y presenciales en Ciudad de Buenos Aires</p>
            <div class="page-header__links">
                <a href="tel:+5491162576017">üìû +54 9 11 6257-6017</a>
                <a href="mailto:ejcmeraki@gmail.com">‚úâÔ∏è ejcmeraki@gmail.com</a>
            </div>
        </div>

        <div class="hero">
            <div class="hero__inner">
                <p class="hero__badge">Estudio Meraki</p>
                <h1 class="hero__title">Asesoramiento legal y contable con mirada humana</h1>
                <p class="hero__subtitle">Acompa√±amos a emprendedores, pymes y particulares con soluciones claras, procesos √°giles y un equipo que est√° presente en cada instancia de tu proyecto.</p>
                <div class="hero__cta">
                    <a class="button button--light" href="https://wa.me/5491162576017" target="_blank" rel="noopener">Escr√≠benos por WhatsApp</a>
                    <a class="button button--ghost" href="#contacto">Agendar consulta</a>
                </div>
                <ul class="hero__highlights" aria-label="Compromisos del estudio">
                    <li>Diagn√≥stico inicial sin costo en menos de 48 h.</li>
                    <li>Estrategias jur√≠dicas y contables dise√±adas a medida.</li>
                    <li>Seguimiento constante y lenguaje claro durante todo el proceso.</li>
                </ul>
            </div>

            <aside class="hero__panel" aria-labelledby="hero-panel-title">
                <div class="hero__panel-card">
                    <h2 id="hero-panel-title">Trabajemos tu caso con metodolog√≠a Meraki</h2>
                    <p>Coordinamos un encuentro inicial para entender tus necesidades y definir el camino legal m√°s conveniente.</p>
                    <ul class="hero__panel-list">
                        <li>Escucha activa y an√°lisis integral.</li>
                        <li>Plan de acci√≥n transparente y realista.</li>
                        <li>Acompa√±amiento humano en cada instancia.</li>
                    </ul>
                    <a class="button button--light hero__panel-button" href="#servicios">Explorar √°reas de asesoramiento</a>
                </div>
            </aside>
        </div>
    </header>

    <main>
        <section id="contacto" class="contact" aria-labelledby="contacto-titulo">
            <div class="contact__intro">
                <p class="contact__eyebrow">Ponete en contacto</p>
                <h2 id="contacto-titulo">Conversemos sobre tu consulta</h2>
                <p>Eleg√≠ el canal que prefieras o complet√° el formulario para coordinar una reuni√≥n inicial. Respondemos en menos de un d√≠a h√°bil.</p>
            </div>

            <div class="contact__grid">
                <div class="contact__card" aria-label="Datos de contacto">
                    <h3>Informaci√≥n de contacto</h3>
                    <ul class="contact__list">
                        <li>
                            <span class="contact__label">Tel√©fono</span>
                            <a href="tel:+5491162576017">+54 9 11 6257-6017</a>
                        </li>
                        <li>
                            <span class="contact__label">WhatsApp</span>
                            <a href="https://wa.me/5491162576017" target="_blank" rel="noopener">Enviar mensaje directo</a>
                        </li>
                        <li>
                            <span class="contact__label">Correo</span>
                            <a href="mailto:ejcmeraki@gmail.com">ejcmeraki@gmail.com</a>
                        </li>
                        <li>
                            <span class="contact__label">Modalidad</span>
                            <p>Consultas virtuales y reuniones presenciales con coordinaci√≥n previa.</p>
                        </li>
                    </ul>
                    <div class="contact__note">
                        <p>Compartinos el contexto de tu caso para que podamos asesorarte con precisi√≥n desde la primera respuesta.</p>
                        <p class="contact__availability">Atenci√≥n: lunes a viernes de 9 a 18 h (GMT-3).</p>
                    </div>
                </div>

                <form class="contact__form" aria-label="Formulario de contacto">
                    <div class="form__group">
                        <label for="nombre">Nombre completo</label>
                        <input type="text" id="nombre" name="nombre" placeholder="Ej. Laura Gonz√°lez" required>
                    </div>
                    <div class="form__group">
                        <label for="email">Correo electr√≥nico</label>
                        <input type="email" id="email" name="email" placeholder="ejemplo@correo.com" required>
                    </div>
                    <div class="form__group">
                        <label for="telefono">Tel√©fono de contacto</label>
                        <input type="tel" id="telefono" name="telefono" placeholder="Ej. +54 9 11 6257-6017">
                    </div>
                    <div class="form__group form__group--full">
                        <label for="asunto">√Årea de inter√©s</label>
                        <input type="text" id="asunto" name="asunto" placeholder="Servicio o especialidad que necesit√°s">
                    </div>
                    <div class="form__group form__group--full">
                        <label for="mensaje">Mensaje</label>
                        <textarea id="mensaje" name="mensaje" rows="5" placeholder="Contanos brevemente tu caso"></textarea>
                    </div>
                    <p class="form__help">Toda la informaci√≥n es confidencial. Te responderemos dentro de las pr√≥ximas 24 horas h√°biles.</p>
                    <button type="submit" class="button">Enviar consulta</button>
                    <p class="form__status" role="status" aria-live="polite" aria-atomic="true" aria-hidden="true"></p>
                </form>
            </div>
        </section>

        <section id="servicios" class="services" aria-labelledby="areas-titulo">
            <div class="services__intro">
                <p class="services__eyebrow">Servicios legales y contables</p>
                <h2 id="areas-titulo">√Åreas de asesoramiento</h2>
                <p>Explor√° cada tem√°tica y descubr√≠ c√≥mo podemos acompa√±arte. Eleg√≠ una categor√≠a para ver el detalle de casos y acciones disponibles.</p>
            </div>

            <nav class="services__menu" aria-label="√Åreas disponibles">
                <button class="services__menu-button services__menu-button--active" type="button" data-target="familia" aria-controls="servicio-familia" aria-expanded="true">
                    <span class="services__menu-icon" aria-hidden="true">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span>
                    <span class="services__menu-text">
                        <span class="services__menu-title">Derecho de familia</span>
                        <span class="services__menu-subtitle">Procesos sensibles con acompa√±amiento humano</span>
                    </span>
                </button>
                <button class="services__menu-button" type="button" data-target="laboral" aria-controls="servicio-laboral" aria-expanded="false">
                    <span class="services__menu-icon" aria-hidden="true">üíº</span>
                    <span class="services__menu-text">
                        <span class="services__menu-title">Derecho laboral</span>
                        <span class="services__menu-subtitle">Defensa y prevenci√≥n para trabajadores y empresas</span>
                    </span>
                </button>
                <button class="services__menu-button" type="button" data-target="comercial" aria-controls="servicio-comercial" aria-expanded="false">
                    <span class="services__menu-icon" aria-hidden="true">üìë</span>
                    <span class="services__menu-text">
                        <span class="services__menu-title">Derecho comercial</span>
                        <span class="services__menu-subtitle">Impulso jur√≠dico para sociedades y contratos</span>
                    </span>
                </button>
                <button class="services__menu-button" type="button" data-target="civil" aria-controls="servicio-civil" aria-expanded="false">
                    <span class="services__menu-icon" aria-hidden="true">‚öñÔ∏è</span>
                    <span class="services__menu-text">
                        <span class="services__menu-title">Derecho civil</span>
                        <span class="services__menu-subtitle">Protecci√≥n de tu patrimonio y tu hogar</span>
                    </span>
                </button>
                <button class="services__menu-button" type="button" data-target="penal" aria-controls="servicio-penal" aria-expanded="false">
                    <span class="services__menu-icon" aria-hidden="true">üõ°Ô∏è</span>
                    <span class="services__menu-text">
                        <span class="services__menu-title">Derecho penal</span>
                        <span class="services__menu-subtitle">Intervenci√≥n r√°pida y confidencial</span>
                    </span>
                </button>
                <button class="services__menu-button" type="button" data-target="inmobiliario" aria-controls="servicio-inmobiliario" aria-expanded="false">
                    <span class="services__menu-icon" aria-hidden="true">üè†</span>
                    <span class="services__menu-text">
                        <span class="services__menu-title">Derecho inmobiliario</span>
                        <span class="services__menu-subtitle">Operaciones seguras y fideicomisos</span>
                    </span>
                </button>
            </nav>

            <div class="services__accordion">
                <details class="services__item" id="servicio-familia" data-service="familia" open>
                    <summary class="services__summary">
                        <span class="services__summary-icon" aria-hidden="true">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span>
                        <span class="services__summary-text">
                            <span class="services__summary-title">Derecho de familia</span>
                            <span class="services__summary-description">Te acompa√±amos con sensibilidad y estrategias claras en momentos clave.</span>
                        </span>
                        <span class="services__summary-indicator" aria-hidden="true"></span>
                    </summary>
                    <div class="services__panel">
                        <p>Priorizamos el cuidado de los v√≠nculos y la protecci√≥n de derechos de ni√±as, ni√±os y familias.</p>
                        <ul class="services__list">
                            <li>Sucesiones y planificaci√≥n hereditaria.</li>
                            <li>Divorcios (de com√∫n acuerdo o conflictivos).</li>
                            <li>Convenios de alimentos, cuidado personal y r√©gimen de comunicaci√≥n.</li>
                            <li>Adopciones y filiaci√≥n.</li>
                            <li>Violencia familiar y medidas urgentes.</li>
                        </ul>
                    </div>
                </details>

                <details class="services__item" id="servicio-laboral" data-service="laboral">
                    <summary class="services__summary">
                        <span class="services__summary-icon" aria-hidden="true">üíº</span>
                        <span class="services__summary-text">
                            <span class="services__summary-title">Derecho laboral</span>
                            <span class="services__summary-description">Defendemos tus derechos y prevenimos conflictos laborales.</span>
                        </span>
                        <span class="services__summary-indicator" aria-hidden="true"></span>
                    </summary>
                    <div class="services__panel">
                        <p>Analizamos cada situaci√≥n desde la normativa vigente para proteger tanto a trabajadores como a empresas.</p>
                        <ul class="services__list">
                            <li>Reclamos por despidos, indemnizaciones y accidentes.</li>
                            <li>Liquidaciones finales y c√°lculos salariales.</li>
                            <li>Auditor√≠a laboral y planes preventivos para pymes.</li>
                            <li>Representaci√≥n ante el Ministerio de Trabajo.</li>
                            <li>Negociaciones individuales y colectivas.</li>
                        </ul>
                    </div>
                </details>

                <details class="services__item" id="servicio-comercial" data-service="comercial">
                    <summary class="services__summary">
                        <span class="services__summary-icon" aria-hidden="true">üìë</span>
                        <span class="services__summary-text">
                            <span class="services__summary-title">Derecho comercial y societario</span>
                            <span class="services__summary-description">Impulsamos tu negocio con estructuras s√≥lidas.</span>
                        </span>
                        <span class="services__summary-indicator" aria-hidden="true"></span>
                    </summary>
                    <div class="services__panel">
                        <p>Te ayudamos a consolidar tu emprendimiento con contratos claros y cumplimiento normativo.</p>
                        <ul class="services__list">
                            <li>Constituci√≥n y regularizaci√≥n de sociedades (SRL, SA, SAS).</li>
                            <li>Redacci√≥n y revisi√≥n de estatutos y contratos comerciales.</li>
                            <li>Acompa√±amiento en acuerdos entre socios y rondas de inversi√≥n.</li>
                            <li>Implementaci√≥n de manuales de compliance.</li>
                        </ul>
                    </div>
                </details>

                <details class="services__item" id="servicio-civil" data-service="civil">
                    <summary class="services__summary">
                        <span class="services__summary-icon" aria-hidden="true">‚öñÔ∏è</span>
                        <span class="services__summary-text">
                            <span class="services__summary-title">Derecho civil</span>
                            <span class="services__summary-description">Cuidamos tu patrimonio y resolvemos conflictos cotidianos.</span>
                        </span>
                        <span class="services__summary-indicator" aria-hidden="true"></span>
                    </summary>
                    <div class="services__panel">
                        <p>Dise√±amos soluciones preventivas y litigiosas para resguardar tus bienes y relaciones contractuales.</p>
                        <ul class="services__list">
                            <li>Redacci√≥n y revisi√≥n de contratos civiles.</li>
                            <li>Reclamos por da√±os y perjuicios.</li>
                            <li>Cobro de deudas y ejecuciones.</li>
                            <li>Defensa en juicios civiles y acciones de amparo.</li>
                        </ul>
                    </div>
                </details>

                <details class="services__item" id="servicio-penal" data-service="penal">
                    <summary class="services__summary">
                        <span class="services__summary-icon" aria-hidden="true">üõ°Ô∏è</span>
                        <span class="services__summary-text">
                            <span class="services__summary-title">Derecho penal</span>
                            <span class="services__summary-description">Actuamos con rapidez y confidencialidad.</span>
                        </span>
                        <span class="services__summary-indicator" aria-hidden="true"></span>
                    </summary>
                    <div class="services__panel">
                        <p>Acompa√±amos a denunciantes y defendidos con estrategias ajustadas a cada instancia procesal.</p>
                        <ul class="services__list">
                            <li>Defensa en causas penales.</li>
                            <li>Presentaci√≥n de denuncias y querellas.</li>
                            <li>Asistencia a v√≠ctimas y medidas de protecci√≥n.</li>
                            <li>Gesti√≥n de excarcelaciones y recursos.</li>
                        </ul>
                    </div>
                </details>

                <details class="services__item" id="servicio-inmobiliario" data-service="inmobiliario">
                    <summary class="services__summary">
                        <span class="services__summary-icon" aria-hidden="true">üè†</span>
                        <span class="services__summary-text">
                            <span class="services__summary-title">Derecho inmobiliario</span>
                            <span class="services__summary-description">Operaciones seguras y proyectos sustentables.</span>
                        </span>
                        <span class="services__summary-indicator" aria-hidden="true"></span>
                    </summary>
                    <div class="services__panel">
                        <p>Intervenimos en cada etapa de la operaci√≥n para garantizar respaldo legal y financiero.</p>
                        <ul class="services__list">
                            <li>Boleto de compraventa y escritura definitiva.</li>
                            <li>Contratos de locaci√≥n y administraci√≥n de alquileres.</li>
                            <li>Gesti√≥n integral de fideicomisos inmobiliarios.</li>
                            <li>Due diligence de inmuebles y desarrollos.</li>
                        </ul>
                    </div>
                </details>
            </div>
        </section>

        <section class="highlights" aria-labelledby="servicios-titulo">
            <div class="highlights__card highlights__card--primary">
                <h2 id="servicios-titulo">¬øC√≥mo trabajamos?</h2>
                <ul>
                    <li>Diagn√≥stico inicial y mapeo de riesgos.</li>
                    <li>Plan de acci√≥n jur√≠dico-contable personalizado.</li>
                    <li>Comunicaci√≥n transparente y lenguaje claro.</li>
                </ul>
            </div>
            <div class="highlights__card highlights__card--secondary">
                <h3>Metodolog√≠a Meraki</h3>
                <p>Creemos en la escucha activa, el an√°lisis detallado y la empat√≠a. Nos involucramos con tus objetivos para construir soluciones que acompa√±en tu crecimiento.</p>
            </div>
            <div class="highlights__card highlights__card--outline">
                <h3>¬øPor qu√© elegirnos?</h3>
                <ul>
                    <li>Equipo multidisciplinario y actualizado.</li>
                    <li>Herramientas digitales para tr√°mites √°giles.</li>
                    <li>Acompa√±amiento integral durante todo el proceso.</li>
                </ul>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer__content">
            <p>&copy; <span id="year"></span> Estudio Meraki. Todos los derechos reservados.</p>
            <p class="footer__legal">La informaci√≥n de este sitio es orientativa y no reemplaza el asesoramiento profesional personalizado.</p>
        </div>
    </footer>

    <button class="chatbot__toggle" type="button" aria-controls="chatbot" aria-expanded="false">
        <span class="chatbot__toggle-icon" aria-hidden="true">üí¨</span>
        <span class="chatbot__toggle-text">Asistente</span>
    </button>

    <div id="chatbot" class="chatbot chatbot--closed" role="dialog" aria-modal="false" aria-label="Asistente virtual de Estudio Meraki">
        <div class="chatbot__header">
            <div class="chatbot__heading">
                <p class="chatbot__eyebrow">Asistente virtual</p>
                <h2 class="chatbot__title">Meraki Chat</h2>
            </div>
            <button type="button" class="chatbot__close" aria-label="Cerrar chat">&times;</button>
        </div>
        <div class="chatbot__messages" role="log" aria-live="polite"></div>
        <form class="chatbot__form" autocomplete="off">
            <label class="visually-hidden" for="chatbot-input">Escribe tu consulta</label>
            <div class="chatbot__suggestions" aria-label="Preguntas r√°pidas">
                <button type="button" class="chatbot__suggestion" data-message="¬øCu√°l es el horario?">¬øCu√°l es el horario?</button>
                <button type="button" class="chatbot__suggestion" data-message="Contacto por WhatsApp">Contacto por WhatsApp</button>
                <button type="button" class="chatbot__suggestion" data-message="¬øQu√© servicios ofrecen?">¬øQu√© servicios ofrecen?</button>
            </div>
            <div class="chatbot__controls">
                <input id="chatbot-input" class="chatbot__input" type="text" name="mensaje" placeholder="Escrib√≠ tu consulta..." required>
                <button type="submit" class="chatbot__send">Enviar</button>
            </div>
        </form>
    </div>

    <script>
        const yearElement = document.getElementById('year');
        const currentYear = new Date().getFullYear();
        yearElement.textContent = currentYear;

        const chatbotToggle = document.querySelector('.chatbot__toggle');
        const chatbotElement = document.getElementById('chatbot');
        const chatbotCloseButton = document.querySelector('.chatbot__close');
        const chatbotForm = document.querySelector('.chatbot__form');
        const chatbotInput = document.querySelector('.chatbot__input');
        const chatbotMessages = document.querySelector('.chatbot__messages');
        const suggestionButtons = document.querySelectorAll('.chatbot__suggestion');
        const contactForm = document.querySelector('.contact__form');
        const formStatus = contactForm ? contactForm.querySelector('.form__status') : null;
        const contactSubmitButton = contactForm ? contactForm.querySelector('button[type="submit"]') : null;

        const knowledgeBase = [
            {
                keywords: ['telefono', 'tel√©fono', 'whatsapp', 'llamar', 'celular'],
                answer: 'Pod√©s comunicarte al +54 9 11 6257-6017 por llamada o WhatsApp para recibir asesoramiento inmediato.'
            },
            {
                keywords: ['correo', 'mail', 'email'],
                answer: 'Escribinos a ejcmeraki@gmail.com y te responderemos dentro de las pr√≥ximas 24 horas h√°biles.'
            },
            {
                keywords: ['horario', 'hora', 'cuando', 'disponible'],
                answer: 'Nuestro equipo responde consultas de lunes a viernes de 9 a 18 h (GMT-3).'
            },
            {
                keywords: ['reunion', 'presencial', 'virtual', 'ubicacion', 'direccion'],
                answer: 'Agendamos reuniones virtuales y presenciales con coordinaci√≥n previa en Ciudad de Buenos Aires.'
            },
            {
                keywords: ['servicios', 'areas', 'ofrecen', 'ayuda', 'especialidad'],
                answer: 'Asistimos en constituci√≥n de sociedades, gesti√≥n contable, impuestos y representaci√≥n legal integral para emprendedores y pymes.'
            },
            {
                keywords: ['honorarios', 'costo', 'precio', 'tarifa'],
                answer: 'Determinamos los honorarios seg√∫n el alcance del caso. Contanos m√°s detalles y te enviaremos una propuesta a medida.'
            },
            {
                keywords: ['documentacion', 'documentos', 'informacion', 'datos'],
                answer: 'Pod√©s adjuntar documentaci√≥n relevante cuando coordinemos la reuni√≥n o enviarla por correo seguro para agilizar el an√°lisis.'
            },
            {
                keywords: ['gracias', 'gracias!'],
                answer: '¬°Gracias a vos por escribirnos! ¬øHay algo m√°s en lo que podamos ayudarte?'
            }
        ];

        function normalize(text) {
            return text
                .toLowerCase()
                .normalize('NFD')
                .replace(/[\u0300-\u036f]/g, '');
        }

        function toggleChat(forceOpen) {
            const shouldOpen = forceOpen !== undefined ? forceOpen : chatbotElement.classList.contains('chatbot--closed');

            if (shouldOpen) {
                chatbotElement.classList.add('chatbot--open');
                chatbotElement.classList.remove('chatbot--closed');
                chatbotToggle.setAttribute('aria-expanded', 'true');
                chatbotToggle.classList.add('chatbot__toggle--active');
                chatbotInput.focus();
            } else {
                chatbotElement.classList.remove('chatbot--open');
                chatbotElement.classList.add('chatbot--closed');
                chatbotToggle.setAttribute('aria-expanded', 'false');
                chatbotToggle.classList.remove('chatbot__toggle--active');
            }
        }

        function addMessage(text, sender) {
            const bubble = document.createElement('div');
            bubble.className = `chatbot__bubble chatbot__bubble--${sender}`;
            const paragraph = document.createElement('p');
            paragraph.textContent = text;
            bubble.appendChild(paragraph);
            chatbotMessages.appendChild(bubble);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        function getResponse(message) {
            const normalizedMessage = normalize(message);

            for (const entry of knowledgeBase) {
                const hasMatch = entry.keywords.some((keyword) => normalizedMessage.includes(normalize(keyword)));
                if (hasMatch) {
                    return entry.answer;
                }
            }

            return 'Gracias por tu consulta. Para brindarte la mejor respuesta, contanos m√°s detalles o escribinos a ejcmeraki@gmail.com.';
        }

        function processUserMessage(message) {
            if (!message) {
                return;
            }

            addMessage(message, 'user');

            window.requestAnimationFrame(() => {
                const response = getResponse(message);
                setTimeout(() => addMessage(response, 'bot'), 350);
            });
        }

        function handleSubmit(event) {
            event.preventDefault();
            const userMessage = chatbotInput.value.trim();

            if (!userMessage) {
                return;
            }

            chatbotInput.value = '';
            processUserMessage(userMessage);
        }

        chatbotToggle.addEventListener('click', () => {
            const isClosed = chatbotElement.classList.contains('chatbot--closed');
            toggleChat(isClosed);
            if (isClosed && chatbotMessages.childElementCount === 0) {
                addMessage('¬°Hola! Soy el asistente virtual de Estudio Meraki. Contame c√≥mo podemos ayudarte.', 'bot');
            }
        });

        chatbotCloseButton.addEventListener('click', () => toggleChat(false));

        chatbotForm.addEventListener('submit', handleSubmit);

        suggestionButtons.forEach((button) => {
            button.addEventListener('click', () => {
                const suggestedMessage = button.dataset.message?.trim();
                processUserMessage(suggestedMessage);
                chatbotInput.focus();
            });
        });

        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape' && chatbotElement.classList.contains('chatbot--open')) {
                toggleChat(false);
            }
        });

        if (contactForm && formStatus) {
            const statusClasses = ['form__status--success', 'form__status--error', 'form__status--visible'];

            const updateFormStatus = (message = '', type) => {
                formStatus.textContent = message;
                formStatus.classList.remove(...statusClasses);

                if (message) {
                    formStatus.classList.add('form__status--visible');

                    if (type) {
                        formStatus.classList.add(`form__status--${type}`);
                    }

                    formStatus.setAttribute('aria-hidden', 'false');
                } else {
                    formStatus.setAttribute('aria-hidden', 'true');
                }
            };

            const validateEmail = (value) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value);

            contactForm.addEventListener('submit', async (event) => {
                event.preventDefault();

                updateFormStatus('', null);

                const formData = new FormData(contactForm);
                const nombre = (formData.get('nombre') || '').toString().trim();
                const email = (formData.get('email') || '').toString().trim();
                const mensaje = (formData.get('mensaje') || '').toString().trim();

                const validationErrors = [];
                const isEmailValid = email && validateEmail(email);

                if (!nombre) {
                    validationErrors.push('Ingres√° tu nombre completo.');
                }

                if (!email || !isEmailValid) {
                    validationErrors.push('Ingres√° un correo electr√≥nico v√°lido.');
                }

                if (!mensaje) {
                    validationErrors.push('Contanos brevemente tu consulta.');
                }

                if (validationErrors.length) {
                    updateFormStatus(validationErrors.join(' '), 'error');

                    if (!nombre) {
                        contactForm.elements.nombre.focus();
                    } else if (!isEmailValid) {
                        contactForm.elements.email.focus();
                    } else if (!mensaje) {
                        contactForm.elements.mensaje.focus();
                    }

                    return;
                }

                updateFormStatus('Enviando tu consulta...', null);

                if (contactSubmitButton) {
                    contactSubmitButton.setAttribute('disabled', 'true');
                    contactSubmitButton.setAttribute('aria-busy', 'true');
                }

                const endpoint = (contactForm.getAttribute('action') || '').trim();
                const method = (contactForm.getAttribute('method') || 'POST').toUpperCase();
                const shouldSubmitRemotely = endpoint && endpoint !== '#';

                try {
                    if (shouldSubmitRemotely) {
                        const requestInit = {
                            method,
                            headers: {
                                Accept: 'application/json'
                            }
                        };

                        if (method === 'GET') {
                            const query = new URLSearchParams(formData).toString();
                            const requestUrl = endpoint.includes('?') ? `${endpoint}&${query}` : `${endpoint}?${query}`;
                            const response = await fetch(requestUrl, requestInit);

                            if (!response.ok) {
                                throw new Error('Error al enviar la consulta');
                            }
                        } else {
                            requestInit.body = formData;
                            const response = await fetch(endpoint, requestInit);

                            if (!response.ok) {
                                throw new Error('Error al enviar la consulta');
                            }
                        }
                    } else {
                        await new Promise((resolve) => setTimeout(resolve, 600));
                    }

                    updateFormStatus('¬°Gracias! Recibimos tu consulta y te responderemos a la brevedad.', 'success');
                    contactForm.reset();
                } catch (error) {
                    console.error(error);
                    updateFormStatus('No pudimos enviar tu consulta en este momento. Intent√° nuevamente m√°s tarde o utiliz√° nuestros medios alternativos de contacto.', 'error');
                } finally {
                    if (contactSubmitButton) {
                        contactSubmitButton.removeAttribute('disabled');
                        contactSubmitButton.removeAttribute('aria-busy');
                    }
                }
            });

            contactForm.addEventListener('input', () => {
                if (formStatus.classList.contains('form__status--error')) {
                    updateFormStatus('', null);
                }
            });
        }
    </script>

    <script>
        (function () {
            const serviceMenuButtons = document.querySelectorAll('.services__menu-button');
            const serviceItems = document.querySelectorAll('.services__item');

            if (!serviceMenuButtons.length || !serviceItems.length) {
                return;
            }

            let isSyncingServices = false;

            const activateService = (serviceId) => {
                if (!serviceId || isSyncingServices) {
                    return;
                }

                isSyncingServices = true;

                serviceItems.forEach((item) => {
                    item.open = item.dataset.service === serviceId;
                });

                serviceMenuButtons.forEach((button) => {
                    const isActive = button.dataset.target === serviceId;
                    button.classList.toggle('services__menu-button--active', isActive);
                    button.setAttribute('aria-expanded', isActive ? 'true' : 'false');
                });

                window.requestAnimationFrame(() => {
                    isSyncingServices = false;
                });
            };

            serviceMenuButtons.forEach((button) => {
                button.addEventListener('click', () => activateService(button.dataset.target));
            });

            serviceItems.forEach((item) => {
                item.addEventListener('toggle', () => {
                    if (isSyncingServices) {
                        return;
                    }

                    if (!item.open) {
                        activateService(item.dataset.service);
                        return;
                    }

                    isSyncingServices = true;

                    serviceItems.forEach((otherItem) => {
                        if (otherItem !== item) {
                            otherItem.open = false;
                        }
                    });

                    serviceMenuButtons.forEach((button) => {
                        const isActive = button.dataset.target === item.dataset.service;
                        button.classList.toggle('services__menu-button--active', isActive);
                        button.setAttribute('aria-expanded', isActive ? 'true' : 'false');
                    });

                    window.requestAnimationFrame(() => {
                        isSyncingServices = false;
                    });
                });
            });

            const defaultService = document.querySelector('.services__menu-button--active');
            if (defaultService) {
                activateService(defaultService.dataset.target);
            }
        })();
    </script>
</body>
</html>
